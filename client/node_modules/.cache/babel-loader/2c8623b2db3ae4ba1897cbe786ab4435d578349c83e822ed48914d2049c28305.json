{"ast":null,"code":"import React from'react';import{Outlet,useNavigate,useLocation}from'react-router-dom';import{Box,Drawer,AppBar,Toolbar,List,Typography,Divider,IconButton,ListItem,ListItemIcon,ListItemText,ListItemButton}from'@mui/material';import{Menu as MenuIcon,Dashboard,People,LocationCity,Settings,Logout}from'@mui/icons-material';import CommonSEO from'../SEO/CommonSEO';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const drawerWidth=240;const AdminLayout=()=>{var _menuItems$find;const navigate=useNavigate();const location=useLocation();const[mobileOpen,setMobileOpen]=React.useState(false);const handleDrawerToggle=()=>{setMobileOpen(!mobileOpen);};const handleLogout=()=>{localStorage.removeItem('adminToken');navigate('/admin/login');};const menuItems=[{text:'Панель управления',icon:/*#__PURE__*/_jsx(Dashboard,{}),path:'/admin/dashboard'},{text:'Анкеты',icon:/*#__PURE__*/_jsx(People,{}),path:'/admin/profiles'},{text:'Города',icon:/*#__PURE__*/_jsx(LocationCity,{}),path:'/admin/cities'},{text:'Настройки',icon:/*#__PURE__*/_jsx(Settings,{}),path:'/admin/settings'}];const drawer=/*#__PURE__*/_jsxs(Box,{sx:{bgcolor:'background.paper',height:'100%'},children:[/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",noWrap:true,component:\"div\",children:\"\\u0410\\u0434\\u043C\\u0438\\u043D-\\u043F\\u0430\\u043D\\u0435\\u043B\\u044C\"})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(List,{children:menuItems.map(item=>/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{selected:location.pathname===item.path,onClick:()=>navigate(item.path),children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{color:'primary.main'},children:item.icon}),/*#__PURE__*/_jsx(ListItemText,{primary:item.text})]})},item.text))}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(List,{children:/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:handleLogout,children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{color:'error.main'},children:/*#__PURE__*/_jsx(Logout,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]})})})]});return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',minHeight:'100vh',bgcolor:'background.default'},children:[/*#__PURE__*/_jsx(CommonSEO,{}),/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",sx:{width:{sm:`calc(100% - ${drawerWidth}px)`},ml:{sm:`${drawerWidth}px`}},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",\"aria-label\":\"open drawer\",edge:\"start\",onClick:handleDrawerToggle,sx:{mr:2,display:{sm:'none'}},children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",noWrap:true,component:\"div\",children:((_menuItems$find=menuItems.find(item=>item.path===location.pathname))===null||_menuItems$find===void 0?void 0:_menuItems$find.text)||'Админ-панель'})]})}),/*#__PURE__*/_jsxs(Box,{component:\"nav\",sx:{width:{sm:drawerWidth},flexShrink:{sm:0}},children:[/*#__PURE__*/_jsx(Drawer,{variant:\"temporary\",open:mobileOpen,onClose:handleDrawerToggle,ModalProps:{keepMounted:true},sx:{display:{xs:'block',sm:'none'},'& .MuiDrawer-paper':{boxSizing:'border-box',width:drawerWidth}},children:drawer}),/*#__PURE__*/_jsx(Drawer,{variant:\"permanent\",sx:{display:{xs:'none',sm:'block'},'& .MuiDrawer-paper':{boxSizing:'border-box',width:drawerWidth}},open:true,children:drawer})]}),/*#__PURE__*/_jsx(Box,{component:\"main\",sx:{flexGrow:1,p:3,width:{sm:`calc(100% - ${drawerWidth}px)`},mt:8},children:/*#__PURE__*/_jsx(Outlet,{})})]});};export default AdminLayout;","map":{"version":3,"names":["React","Outlet","useNavigate","useLocation","Box","Drawer","AppBar","Toolbar","List","Typography","Divider","IconButton","ListItem","ListItemIcon","ListItemText","ListItemButton","Menu","MenuIcon","Dashboard","People","LocationCity","Settings","Logout","CommonSEO","jsx","_jsx","jsxs","_jsxs","drawerWidth","AdminLayout","_menuItems$find","navigate","location","mobileOpen","setMobileOpen","useState","handleDrawerToggle","handleLogout","localStorage","removeItem","menuItems","text","icon","path","drawer","sx","bgcolor","height","children","variant","noWrap","component","map","item","disablePadding","selected","pathname","onClick","color","primary","display","minHeight","position","width","sm","ml","edge","mr","find","flexShrink","open","onClose","ModalProps","keepMounted","xs","boxSizing","flexGrow","p","mt"],"sources":["/root/escort-project/client/src/components/admin/AdminLayout.tsx"],"sourcesContent":["import React from 'react';\nimport { Outlet, useNavigate, useLocation } from 'react-router-dom';\nimport {\n  Box,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  IconButton,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListItemButton,\n} from '@mui/material';\nimport {\n  Menu as MenuIcon,\n  Dashboard,\n  People,\n  LocationCity,\n  Settings,\n  Logout,\n} from '@mui/icons-material';\nimport CommonSEO from '../SEO/CommonSEO';\n\nconst drawerWidth = 240;\n\nconst AdminLayout: React.FC = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('adminToken');\n    navigate('/admin/login');\n  };\n\n  const menuItems = [\n    { text: 'Панель управления', icon: <Dashboard />, path: '/admin/dashboard' },\n    { text: 'Анкеты', icon: <People />, path: '/admin/profiles' },\n    { text: 'Города', icon: <LocationCity />, path: '/admin/cities' },\n    { text: 'Настройки', icon: <Settings />, path: '/admin/settings' },\n  ];\n\n  const drawer = (\n    <Box sx={{ bgcolor: 'background.paper', height: '100%' }}>\n      <Toolbar>\n        <Typography variant=\"h6\" noWrap component=\"div\">\n          Админ-панель\n        </Typography>\n      </Toolbar>\n      <Divider />\n      <List>\n        {menuItems.map((item) => (\n          <ListItem key={item.text} disablePadding>\n            <ListItemButton\n              selected={location.pathname === item.path}\n              onClick={() => navigate(item.path)}\n            >\n              <ListItemIcon sx={{ color: 'primary.main' }}>\n                {item.icon}\n              </ListItemIcon>\n              <ListItemText primary={item.text} />\n            </ListItemButton>\n          </ListItem>\n        ))}\n      </List>\n      <Divider />\n      <List>\n        <ListItem disablePadding>\n          <ListItemButton onClick={handleLogout}>\n            <ListItemIcon sx={{ color: 'error.main' }}>\n              <Logout />\n            </ListItemIcon>\n            <ListItemText primary=\"Выйти\" />\n          </ListItemButton>\n        </ListItem>\n      </List>\n    </Box>\n  );\n\n  return (\n    <Box sx={{ display: 'flex', minHeight: '100vh', bgcolor: 'background.default' }}>\n      <CommonSEO />\n      <AppBar\n        position=\"fixed\"\n        sx={{\n          width: { sm: `calc(100% - ${drawerWidth}px)` },\n          ml: { sm: `${drawerWidth}px` },\n        }}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            sx={{ mr: 2, display: { sm: 'none' } }}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            {menuItems.find(item => item.path === location.pathname)?.text || 'Админ-панель'}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Box\n        component=\"nav\"\n        sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}\n      >\n        <Drawer\n          variant=\"temporary\"\n          open={mobileOpen}\n          onClose={handleDrawerToggle}\n          ModalProps={{\n            keepMounted: true,\n          }}\n          sx={{\n            display: { xs: 'block', sm: 'none' },\n            '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth },\n          }}\n        >\n          {drawer}\n        </Drawer>\n        <Drawer\n          variant=\"permanent\"\n          sx={{\n            display: { xs: 'none', sm: 'block' },\n            '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth },\n          }}\n          open\n        >\n          {drawer}\n        </Drawer>\n      </Box>\n      <Box\n        component=\"main\"\n        sx={{\n          flexGrow: 1,\n          p: 3,\n          width: { sm: `calc(100% - ${drawerWidth}px)` },\n          mt: 8,\n        }}\n      >\n        <Outlet />\n      </Box>\n    </Box>\n  );\n};\n\nexport default AdminLayout; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}