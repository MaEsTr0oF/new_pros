{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,Box}from'@mui/material';import{getProfiles}from'../../api-wrapper';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfilesPage=()=>{const[profiles,setProfiles]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{const fetchProfiles=async()=>{setLoading(true);try{const response=await getProfiles();setProfiles(response.data||[]);setError(null);}catch(err){console.error('Ошибка при загрузке профилей:',err);setError('Не удалось загрузить профили. Пожалуйста, попробуйте позже.');}finally{setLoading(false);}};fetchProfiles();},[]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0430\\u043D\\u043A\\u0435\\u0442\\u0430\\u043C\\u0438\"}),loading&&/*#__PURE__*/_jsx(Typography,{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",children:error}),/*#__PURE__*/_jsx(Box,{mt:4,children:profiles.length>0?/*#__PURE__*/_jsxs(Typography,{children:[\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0435\\u043D\\u043E \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u0435\\u0439: \",profiles.length]}):/*#__PURE__*/_jsx(Typography,{children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u0438 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"})})]});};export default ProfilesPage;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Box","getProfiles","jsx","_jsx","jsxs","_jsxs","ProfilesPage","profiles","setProfiles","loading","setLoading","error","setError","fetchProfiles","response","data","err","console","children","variant","component","gutterBottom","color","mt","length"],"sources":["/root/escort-project/client/src/pages/admin/ProfilesPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Typography, Box } from '@mui/material';\nimport { getProfiles } from '../../api-wrapper';\nimport type { Profile } from '../../types';\n\nconst ProfilesPage: React.FC = () => {\n  const [profiles, setProfiles] = useState<Profile[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchProfiles = async () => {\n      setLoading(true);\n      try {\n        const response = await getProfiles();\n        setProfiles(response.data || []);\n        setError(null);\n      } catch (err) {\n        console.error('Ошибка при загрузке профилей:', err);\n        setError('Не удалось загрузить профили. Пожалуйста, попробуйте позже.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProfiles();\n  }, []);\n\n  return (\n    <Container>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n        Управление анкетами\n      </Typography>\n      \n      {loading && <Typography>Загрузка...</Typography>}\n      {error && <Typography color=\"error\">{error}</Typography>}\n      \n      <Box mt={4}>\n        {profiles.length > 0 ? (\n          <Typography>\n            Загружено профилей: {profiles.length}\n          </Typography>\n        ) : (\n          <Typography>\n            Профили не найдены\n          </Typography>\n        )}\n      </Box>\n    </Container>\n  );\n};\n\nexport default ProfilesPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,UAAU,CAAEC,GAAG,KAAQ,eAAe,CAC1D,OAASC,WAAW,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGhD,KAAM,CAAAC,YAAsB,CAAGA,CAAA,GAAM,CACnC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAgB,IAAI,CAAC,CAEvDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChCH,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAb,WAAW,CAAC,CAAC,CACpCO,WAAW,CAACM,QAAQ,CAACC,IAAI,EAAI,EAAE,CAAC,CAChCH,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAE,MAAOI,GAAG,CAAE,CACZC,OAAO,CAACN,KAAK,CAAC,+BAA+B,CAAEK,GAAG,CAAC,CACnDJ,QAAQ,CAAC,6DAA6D,CAAC,CACzE,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDG,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACER,KAAA,CAACP,SAAS,EAAAoB,QAAA,eACRf,IAAA,CAACJ,UAAU,EAACoB,OAAO,CAAC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,YAAY,MAAAH,QAAA,CAAC,+GAErD,CAAY,CAAC,CAEZT,OAAO,eAAIN,IAAA,CAACJ,UAAU,EAAAmB,QAAA,CAAC,qDAAW,CAAY,CAAC,CAC/CP,KAAK,eAAIR,IAAA,CAACJ,UAAU,EAACuB,KAAK,CAAC,OAAO,CAAAJ,QAAA,CAAEP,KAAK,CAAa,CAAC,cAExDR,IAAA,CAACH,GAAG,EAACuB,EAAE,CAAE,CAAE,CAAAL,QAAA,CACRX,QAAQ,CAACiB,MAAM,CAAG,CAAC,cAClBnB,KAAA,CAACN,UAAU,EAAAmB,QAAA,EAAC,2GACU,CAACX,QAAQ,CAACiB,MAAM,EAC1B,CAAC,cAEbrB,IAAA,CAACJ,UAAU,EAAAmB,QAAA,CAAC,oGAEZ,CAAY,CACb,CACE,CAAC,EACG,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAZ,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}