{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Paper,Typography,Box,Button,CircularProgress,Alert}from'@mui/material';import{Telegram}from'@mui/icons-material';import{useNavigate}from'react-router-dom';import axios from'axios';import{API_URL}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ContactAdminPage=()=>{const navigate=useNavigate();const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[settings,setSettings]=useState({telegramUsername:'',maintenanceMode:false});useEffect(()=>{const fetchSettings=async()=>{try{const response=await axios.get(`${API_URL}/settings/public`);setSettings(response.data);}catch(error){console.error('Error fetching settings:',error);setError('Ошибка при загрузке контактных данных');}finally{setLoading(false);}};fetchSettings();},[]);if(loading){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(settings.maintenanceMode){return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:4},children:/*#__PURE__*/_jsx(Alert,{severity:\"warning\",sx:{mb:2},children:\"\\u0421\\u0430\\u0439\\u0442 \\u043D\\u0430\\u0445\\u043E\\u0434\\u0438\\u0442\\u0441\\u044F \\u043D\\u0430 \\u0442\\u0435\\u0445\\u043D\\u0438\\u0447\\u0435\\u0441\\u043A\\u043E\\u043C \\u043E\\u0431\\u0441\\u043B\\u0443\\u0436\\u0438\\u0432\\u0430\\u043D\\u0438\\u0438. \\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u043E\\u0437\\u0436\\u0435.\"})});}const telegramLink=`https://t.me/${settings.telegramUsername}`;return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:4},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>navigate(-1),sx:{mb:2},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(Paper,{sx:{p:4,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0430\\u043D\\u043A\\u0435\\u0442\\u044B\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",paragraph:true,children:\"\\u0414\\u043B\\u044F \\u0440\\u0430\\u0437\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u044F \\u0430\\u043D\\u043A\\u0435\\u0442\\u044B \\u043D\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435, \\u043F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0441\\u0432\\u044F\\u0436\\u0438\\u0442\\u0435\\u0441\\u044C \\u0441 \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u043E\\u043C \\u0447\\u0435\\u0440\\u0435\\u0437 Telegram.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",paragraph:true,children:\"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440 \\u043F\\u043E\\u043C\\u043E\\u0436\\u0435\\u0442 \\u0432\\u0430\\u043C \\u0441\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0440\\u0438\\u0432\\u043B\\u0435\\u043A\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u0443\\u044E \\u0430\\u043D\\u043A\\u0435\\u0442\\u0443 \\u0438 \\u0440\\u0430\\u0437\\u043C\\u0435\\u0441\\u0442\\u0438\\u0442\\u044C \\u0435\\u0451 \\u043D\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435.\"}),/*#__PURE__*/_jsx(Box,{sx:{mt:4},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",size:\"large\",startIcon:/*#__PURE__*/_jsx(Telegram,{}),href:telegramLink,target:\"_blank\",rel:\"noopener noreferrer\",children:\"\\u041D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C \\u0432 Telegram\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mt:4,color:'text.secondary'},children:\"\\u041E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0430 \\u0437\\u0430\\u044F\\u0432\\u043E\\u043A \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0441\\u044F \\u0432 \\u0442\\u0435\\u0447\\u0435\\u043D\\u0438\\u0435 24 \\u0447\\u0430\\u0441\\u043E\\u0432\"})]})]});};export default ContactAdminPage;","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","Typography","Box","Button","CircularProgress","Alert","Telegram","useNavigate","axios","API_URL","jsx","_jsx","jsxs","_jsxs","ContactAdminPage","navigate","loading","setLoading","error","setError","settings","setSettings","telegramUsername","maintenanceMode","fetchSettings","response","get","data","console","sx","display","justifyContent","alignItems","height","children","maxWidth","py","severity","mb","telegramLink","onClick","p","textAlign","variant","component","gutterBottom","paragraph","mt","color","size","startIcon","href","target","rel"],"sources":["C:/Users/user/Desktop/prostitutki/client/src/pages/ContactAdminPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Paper,\n  Typography,\n  Box,\n  Button,\n  CircularProgress,\n  Alert,\n} from '@mui/material';\nimport { Telegram } from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { API_URL } from '../config';\n\ninterface PublicSettings {\n  telegramUsername: string;\n  maintenanceMode: boolean;\n}\n\nconst ContactAdminPage: React.FC = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [settings, setSettings] = useState<PublicSettings>({\n    telegramUsername: '',\n    maintenanceMode: false\n  });\n\n  useEffect(() => {\n    const fetchSettings = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/settings/public`);\n        setSettings(response.data);\n      } catch (error) {\n        console.error('Error fetching settings:', error);\n        setError('Ошибка при загрузке контактных данных');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchSettings();\n  }, []);\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (settings.maintenanceMode) {\n    return (\n      <Container maxWidth=\"md\" sx={{ py: 4 }}>\n        <Alert severity=\"warning\" sx={{ mb: 2 }}>\n          Сайт находится на техническом обслуживании. Пожалуйста, попробуйте позже.\n        </Alert>\n      </Container>\n    );\n  }\n\n  const telegramLink = `https://t.me/${settings.telegramUsername}`;\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Button onClick={() => navigate(-1)} sx={{ mb: 2 }}>\n        Назад\n      </Button>\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\n          {error}\n        </Alert>\n      )}\n\n      <Paper sx={{ p: 4, textAlign: 'center' }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Добавление анкеты\n        </Typography>\n\n        <Typography variant=\"body1\" paragraph>\n          Для размещения анкеты на сайте, пожалуйста, свяжитесь с администратором через Telegram.\n        </Typography>\n\n        <Typography variant=\"body1\" paragraph>\n          Администратор поможет вам создать привлекательную анкету и разместить её на сайте.\n        </Typography>\n\n        <Box sx={{ mt: 4 }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            startIcon={<Telegram />}\n            href={telegramLink}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Написать в Telegram\n          </Button>\n        </Box>\n\n        <Typography variant=\"body2\" sx={{ mt: 4, color: 'text.secondary' }}>\n          Обработка заявок производится в течение 24 часов\n        </Typography>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default ContactAdminPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}