{"ast":null,"code":"import React,{useState}from'react';import{Container,Paper,Typography,TextField,Button,Box,Alert}from'@mui/material';import{useNavigate}from'react-router-dom';import{AxiosError}from'axios';import{api}from'../../utils/api';import CommonSEO from'../../components/SEO/CommonSEO';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LoginPage=()=>{const navigate=useNavigate();const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setError('');try{const response=await api.post('/auth/login',{username,password},{withCredentials:true});localStorage.setItem('adminToken',response.data.token);navigate('/admin/dashboard');}catch(error){if(error instanceof AxiosError){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Ошибка входа в систему');}else{setError('Ошибка входа в систему');}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CommonSEO,{}),/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",sx:{py:4},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,align:\"center\",children:\"\\u0412\\u0445\\u043E\\u0434 \\u0432 \\u0430\\u0434\\u043C\\u0438\\u043D-\\u043F\\u0430\\u043D\\u0435\\u043B\\u044C\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",value:username,onChange:e=>setUsername(e.target.value),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"password\",label:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:password,onChange:e=>setPassword(e.target.value),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",fullWidth:true,size:\"large\",sx:{mt:3},children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]})})]});};export default LoginPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}