{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Grid,Typography,Box,Chip,Paper,CircularProgress,Alert,ImageList,ImageListItem,styled,Divider,Button,useTheme,useMediaQuery,Card,CardContent,Avatar,IconButton,Tabs,Tab,Fade,Dialog,DialogContent}from'@mui/material';import{DirectionsCar as CarIcon,Home as HomeIcon,VerifiedUser as VerifiedIcon,AccessTime as TimeIcon,SmokingRooms as SmokingIcon,SmokeFree as NoSmokingIcon,Star as StarIcon,Group as GroupIcon,Person as PersonIcon,Phone as PhoneIcon,WhatsApp as WhatsAppIcon,Telegram as TelegramIcon,ArrowBack as ArrowBackIcon,Close as CloseIcon}from'@mui/icons-material';import{useParams,useNavigate}from'react-router-dom';import{api}from'../utils/api';import{serviceTranslations}from'../utils/serviceTranslations';import CommonSEO from'../components/SEO/CommonSEO';import SchemaMarkup from'../components/SEO/SchemaMarkup';import Header from'../components/Header';// Определение типа PageContainer\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const PageContainer=styled(Box)(_ref=>{let{theme}=_ref;return{minHeight:'100vh',backgroundColor:theme.palette.background.default,paddingBottom:theme.spacing(4)};});const TabPanel=props=>{const{children,value,index,...other}=props;return/*#__PURE__*/_jsx(\"div\",{role:\"tabpanel\",hidden:value!==index,id:`profile-tabpanel-${index}`,\"aria-labelledby\":`profile-tab-${index}`,...other,children:value===index&&/*#__PURE__*/_jsx(Fade,{in:value===index,children:/*#__PURE__*/_jsx(Box,{sx:{p:3},children:children})})});};const StyledPaper=styled(Paper)(_ref2=>{let{theme}=_ref2;return{padding:theme.spacing(3),marginBottom:theme.spacing(3),borderRadius:theme.spacing(2),background:'rgba(30, 30, 30, 0.95)',backdropFilter:'blur(10px)'};});const ProfileImage=styled('img')({width:'100%',height:'100%',objectFit:'cover',borderRadius:8,cursor:'pointer',transition:'transform 0.3s ease','&:hover':{transform:'scale(1.02)'}});const IconChip=styled(Chip)(_ref3=>{let{theme}=_ref3;return{margin:theme.spacing(0.5),borderRadius:theme.spacing(1),'& .MuiChip-icon':{color:'inherit'}};});const PriceCard=styled(Card)(_ref4=>{let{theme}=_ref4;return{background:theme.palette.primary.main,color:theme.palette.primary.contrastText,borderRadius:theme.spacing(2),position:'relative',overflow:'visible','&::before':{content:'\"\"',position:'absolute',top:0,left:0,right:0,bottom:0,background:'linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%)',borderRadius:'inherit'}};});const ContactButton=styled(Button)(_ref5=>{let{theme}=_ref5;return{borderRadius:theme.spacing(1),padding:theme.spacing(1.5,3),fontWeight:'bold',fontSize:'1.1rem',textTransform:'none',boxShadow:'0 4px 6px rgba(0,0,0,0.1)','&:hover':{transform:'translateY(-2px)',boxShadow:'0 6px 8px rgba(0,0,0,0.2)'},transition:'all 0.2s ease'};});const ProfilePage=()=>{var _profile$city;const{id}=useParams();const navigate=useNavigate();const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('sm'));const[profile,setProfile]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[tabValue,setTabValue]=useState(0);const[selectedImage,setSelectedImage]=useState(null);// Добавляем состояние для открытия/закрытия диалога для просмотра изображения\nconst[imageDialogOpen,setImageDialogOpen]=useState(false);// Добавление состояний для Header\nconst[cities,setCities]=useState([]);const[selectedCity,setSelectedCity]=useState(null);const[languages]=useState([{id:1,code:'ru',name:'Русский'},{id:2,code:'en',name:'English'}]);const[selectedLanguage,setSelectedLanguage]=useState(languages[0]);useEffect(()=>{const fetchCities=async()=>{try{const response=await api.get('/cities');setCities(response.data);if(response.data.length>0){setSelectedCity(response.data[0]);}}catch(error){console.error('Error fetching cities:',error);}};fetchCities();},[]);useEffect(()=>{const fetchProfile=async()=>{try{setLoading(true);setError(null);const response=await api.get(`/profiles/${id}`);setProfile(response.data);}catch(error){console.error('Error fetching profile:',error);setError('Ошибка при загрузке анкеты');}finally{setLoading(false);}};if(id){fetchProfile();}},[id]);// Обработчики для показа/скрытия диалога с изображением\nconst handleImageClick=image=>{setSelectedImage(image);setImageDialogOpen(true);};const handleCloseImageDialog=()=>{setImageDialogOpen(false);};const handleTabChange=(event,newValue)=>{setTabValue(newValue);};if(loading){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'80vh'},children:/*#__PURE__*/_jsx(CircularProgress,{size:60,thickness:4})});}if(error||!profile){return/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",sx:{mt:4},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error||'Анкета не найдена'})});}return/*#__PURE__*/_jsxs(PageContainer,{children:[profile&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CommonSEO,{cityName:(_profile$city=profile.city)===null||_profile$city===void 0?void 0:_profile$city.name}),/*#__PURE__*/_jsx(SchemaMarkup,{profile:profile})]}),/*#__PURE__*/_jsx(Header,{cities:cities,languages:languages,selectedCity:selectedCity,selectedLanguage:selectedLanguage,onCityChange:setSelectedCity,onLanguageChange:setSelectedLanguage}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{py:4},children:[/*#__PURE__*/_jsx(Box,{sx:{mb:3},children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>navigate(-1),sx:{mr:2},children:/*#__PURE__*/_jsx(ArrowBackIcon,{})})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsxs(StyledPaper,{elevation:3,children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Avatar,{src:profile.photos[0],sx:{width:80,height:80,mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:[profile.name,\", \",profile.age]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1},children:[/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(VerifiedIcon,{}),label:profile.isVerified?\"Проверено\":\"Не проверено\",color:profile.isVerified?\"success\":\"default\"}),profile.isNew&&/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(StarIcon,{}),label:\"\\u041D\\u043E\\u0432\\u0435\\u043D\\u044C\\u043A\\u0430\\u044F\",color:\"primary\"})]})]})]}),/*#__PURE__*/_jsx(Box,{sx:{borderBottom:1,borderColor:'divider'},children:/*#__PURE__*/_jsxs(Tabs,{value:tabValue,onChange:handleTabChange,variant:isMobile?\"scrollable\":\"fullWidth\",scrollButtons:isMobile?\"auto\":false,children:[/*#__PURE__*/_jsx(Tab,{label:\"\\u0424\\u043E\\u0442\\u043E\"}),/*#__PURE__*/_jsx(Tab,{label:\"\\u0423\\u0441\\u043B\\u0443\\u0433\\u0438\"}),/*#__PURE__*/_jsx(Tab,{label:\"\\u041E \\u0441\\u0435\\u0431\\u0435\"})]})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:0,children:/*#__PURE__*/_jsx(ImageList,{cols:isMobile?1:2,gap:16,children:profile.photos.map((photo,index)=>{var _profile$city2;return/*#__PURE__*/_jsx(ImageListItem,{children:/*#__PURE__*/_jsx(ProfileImage,{src:photo,alt:`${profile.name} - ${profile.age} лет, ${getPhotoDescription(index,profile)} | Проститутка ${((_profile$city2=profile.city)===null||_profile$city2===void 0?void 0:_profile$city2.name)||'Москва'}`,loading:\"lazy\",onClick:()=>handleImageClick(photo)})},index);})})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:1,children:/*#__PURE__*/_jsx(Box,{sx:{display:'flex',flexWrap:'wrap',gap:1},children:profile.services.map((service,index)=>/*#__PURE__*/_jsx(Chip,{label:serviceTranslations[service]||service,sx:{backgroundColor:'rgba(255, 107, 0, 0.1)',color:theme.palette.primary.main,'&:hover':{backgroundColor:'rgba(255, 107, 0, 0.2)'}}},index))})}),/*#__PURE__*/_jsx(TabPanel,{value:tabValue,index:2,children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{whiteSpace:'pre-line'},children:profile.description})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Box,{sx:{position:'sticky',top:24},children:[/*#__PURE__*/_jsxs(StyledPaper,{elevation:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\u041F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"\\u0420\\u043E\\u0441\\u0442\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[profile.height,\" \\u0441\\u043C\"]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"\\u0412\\u0435\\u0441\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[profile.weight,\" \\u043A\\u0433\"]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"\\u0413\\u0440\\u0443\\u0434\\u044C\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:profile.breastSize})]}),profile.nationality&&/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"\\u041D\\u0430\\u0446\\u0438\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:profile.nationality})]})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:3}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\u0426\\u0435\\u043D\\u044B\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[profile.priceExpress>0&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(PriceCard,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"\\u042D\\u043A\\u0441\\u043F\\u0440\\u0435\\u0441\\u0441\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",children:[profile.priceExpress,\"\\u20BD\"]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(PriceCard,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"1 \\u0447\\u0430\\u0441\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",children:[profile.price1Hour,\"\\u20BD\"]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(PriceCard,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"2 \\u0447\\u0430\\u0441\\u0430\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",children:[profile.price2Hours,\"\\u20BD\"]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(PriceCard,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"\\u041D\\u043E\\u0447\\u044C\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",children:[profile.priceNight,\"\\u20BD\"]})]})})})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:3},children:[/*#__PURE__*/_jsx(ContactButton,{variant:\"contained\",fullWidth:true,startIcon:/*#__PURE__*/_jsx(PhoneIcon,{}),sx:{mb:2},children:\"\\u041F\\u043E\\u0437\\u0432\\u043E\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2},children:[/*#__PURE__*/_jsx(ContactButton,{variant:\"outlined\",fullWidth:true,startIcon:/*#__PURE__*/_jsx(WhatsAppIcon,{}),children:\"WhatsApp\"}),/*#__PURE__*/_jsx(ContactButton,{variant:\"outlined\",fullWidth:true,startIcon:/*#__PURE__*/_jsx(TelegramIcon,{}),children:\"Telegram\"})]})]})]}),/*#__PURE__*/_jsxs(StyledPaper,{elevation:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\u0414\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:1},children:[profile.isNonSmoking?/*#__PURE__*/_jsx(IconChip,{icon:/*#__PURE__*/_jsx(NoSmokingIcon,{}),label:\"\\u041D\\u0435 \\u043A\\u0443\\u0440\\u0438\\u0442\"}):/*#__PURE__*/_jsx(IconChip,{icon:/*#__PURE__*/_jsx(SmokingIcon,{}),label:\"\\u041A\\u0443\\u0440\\u0438\\u0442\"}),profile.is24Hours&&/*#__PURE__*/_jsx(IconChip,{icon:/*#__PURE__*/_jsx(TimeIcon,{}),label:\"24 \\u0447\\u0430\\u0441\\u0430\"}),profile.isAlone?/*#__PURE__*/_jsx(IconChip,{icon:/*#__PURE__*/_jsx(PersonIcon,{}),label:\"\\u041E\\u0434\\u043D\\u0430\"}):/*#__PURE__*/_jsx(IconChip,{icon:/*#__PURE__*/_jsx(GroupIcon,{}),label:\"\\u0421 \\u043F\\u043E\\u0434\\u0440\\u0443\\u0433\\u0430\\u043C\\u0438\"}),profile.inCall&&/*#__PURE__*/_jsx(IconChip,{icon:/*#__PURE__*/_jsx(HomeIcon,{}),label:\"\\u041F\\u0440\\u0438\\u043D\\u0438\\u043C\\u0430\\u0435\\u0442 \\u0443 \\u0441\\u0435\\u0431\\u044F\"}),profile.outCall&&/*#__PURE__*/_jsx(IconChip,{icon:/*#__PURE__*/_jsx(CarIcon,{}),label:\"\\u0412\\u044B\\u0435\\u0437\\u0436\\u0430\\u0435\\u0442\"})]})]})]})})]})]}),/*#__PURE__*/_jsx(Dialog,{open:imageDialogOpen,onClose:handleCloseImageDialog,maxWidth:\"lg\",fullScreen:isMobile,children:/*#__PURE__*/_jsxs(DialogContent,{sx:{p:0,position:'relative'},children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",onClick:handleCloseImageDialog,sx:{position:'absolute',right:8,top:8,backgroundColor:'rgba(0, 0, 0, 0.5)','&:hover':{backgroundColor:'rgba(0, 0, 0, 0.7)'},zIndex:10},children:/*#__PURE__*/_jsx(CloseIcon,{sx:{color:'white'}})}),selectedImage&&/*#__PURE__*/_jsx(\"img\",{src:selectedImage,alt:`${profile.name} - фото в полный размер`,style:{width:'100%',maxHeight:'90vh',objectFit:'contain'}})]})})]});};// Добавляем функцию для генерации разнообразных описаний фото\nconst getPhotoDescription=(index,profile)=>{var _profile$city3;const descriptions=[`элитная эскорт модель ${profile.height}см/${profile.weight}кг`,`индивидуалка с грудью ${profile.breastSize} размера`,`стройная VIP проститутка, оказывает эскорт услуги`,`интимные услуги от красивой девушки`,`лучшие интим услуги в ${((_profile$city3=profile.city)===null||_profile$city3===void 0?void 0:_profile$city3.name)||'Москве'}`,`шикарная девушка для приятного времяпровождения`,`приглашает на интим встречу`,`опытная индивидуалка для VIP клиентов`,`шикарная фигура, приглашает в гости`,`эротическое фото, доступны разные услуги`];// Используем индекс фото для выбора описания, чтобы разные фото имели разные описания\nreturn descriptions[index%descriptions.length];};export default ProfilePage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}